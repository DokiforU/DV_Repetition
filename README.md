# DVSense Camera Test & Data Acquisition App

This project is a C++ application developed using the official DVSense driver library to interact with DVS (Dynamic Vision Sensor) cameras, test camera functionalities, and acquire/save data.

## Overview

The application utilizes the DVSense SDK API to connect, initialize, and control DVS cameras. It captures the event stream data generated by the camera and provides two main methods for saving this data:

1.  **Raw Event Stream Data**: Saves the asynchronous events (typically including x, y coordinates, timestamp, polarity) directly into `.raw` files.
2.  **Video File**: Processes or visualizes the event stream and records it into a standard `.avi` video file.

This project uses CMake for build management.

## Features

* Connects to and initializes DVSense-compatible DVS cameras.
* Acquires and saves the camera's raw event stream data (`.raw` files).
* Acquires the event stream and processes/records it into video files (`.avi` files).
* Cross-platform build configuration (using CMake).

## Dependencies

* **DVSense Driver SDK**: **Core Dependency**. You **must** first install the DVSense driver and SDK (including headers and libraries) on your system according to the official DVSense instructions. The CMake build process needs to be able to find this SDK.
    * **Installation Guide**: [https://sdk.dvsense.com/zh/v1.0.0/install_zh.html](https://sdk.dvsense.com/zh/v1.0.0/install_zh.html) (Link provided is for v1.0.0 Chinese version).

## Building from Source

If you have the source code (`main.cpp`, `CMakeLists.txt`) and want to compile the executable on your own machine, follow these steps:

**1. Prerequisites:**

* **Git**: To clone this repository.
* **CMake**: Version 3.10 or higher recommended. Used to generate build files for your local environment. Download from [cmake.org](https://cmake.org/download/).
* **C++ Compiler**: A compiler supporting C++11 or later. Examples:
    * **Windows**: Visual Studio (e.g., 2017 or newer, ensure "Desktop development with C++" workload is installed) or MSYS2/MinGW-w64.
    * **macOS**: Xcode Command Line Tools (includes Clang). Install via `xcode-select --install`.
    * **Linux**: GCC (g++) or Clang. Install via package manager (e.g., `sudo apt update && sudo apt install build-essential cmake git` on Debian/Ubuntu).
* **Installed DVSense Driver SDK**: **Mandatory**. Ensure you have installed it correctly by following the official documentation. CMake needs to locate the installed SDK. If CMake cannot find it automatically, you might need to:
    * Set environment variables (e.g., `DVSENSE_SDK_ROOT`, the exact variable depends on how `CMakeLists.txt` finds it).
    * Or specify the path during the CMake configuration step using a `-D` parameter, for example: `-DDVSENSE_DIR=/path/to/dvsense/sdk/install` (the exact parameter name also depends on `CMakeLists.txt`).
    * **Installation Guide**: [https://sdk.dvsense.com/zh/v1.0.0/install_zh.html](https://sdk.dvsense.com/zh/v1.0.0/install_zh.html)

**2. Build Steps:**

1.  **Clone the Repository**:
    ```bash
    git clone git@github.com:DokiforU/DV_Repetition.git # Use your repository's SSH URL
    cd DV_Repetition
    ```

2.  **Create a Build Directory**: It's recommended to use an "out-of-source" build.
    ```bash
    mkdir build
    cd build
    ```

3.  **Configure Project (Run CMake)**: From within the `build` directory, run CMake to detect the compiler, dependencies, and generate native build system files based on `CMakeLists.txt`.
    ```bash
    # Basic command (CMake tries to auto-detect)
    cmake ..

    # --- Optional Parameter Examples ---
    # Specify generator (e.g., for Visual Studio on Windows):
    # cmake .. -G "Visual Studio 17 2022" -A x64

    # Specify build type (Debug or Release):
    # cmake .. -DCMAKE_BUILD_TYPE=Release

    # Specify DVSense SDK path manually (if CMakeLists.txt supports DVSENSE_DIR):
    # cmake .. -DDVSENSE_DIR=/opt/dvsense_sdk
    ```
    Adjust the CMake command based on your environment and `CMakeLists.txt` requirements. Look for "Configuring done" and "Generating done" messages upon success.

4.  **Compile Project**: Still within the `build` directory, run CMake's build command to compile the code and link the executable.
    ```bash
    # Generic build command (recommended)
    cmake --build .

    # --- Optional Parameter Examples ---
    # For multi-configuration generators (like Visual Studio), specify config:
    # cmake --build . --config Release

    # Try parallel compilation for speed (e.g., using 4 cores):
    # cmake --build . --parallel 4
    ```
    If the compilation is successful, you should find the executable in the `build` directory or a subdirectory (e.g., `build/Debug/` or `build/Release/`).

## Running the Application

1.  **Locate the Executable**: After a successful build, the executable file (likely named `dvsense_driver_test_12.7` or similar, based on your `CMakeLists.txt`) is typically found within the `build` directory or its `Debug`/`Release` subdirectories.
2.  **Connect DVS Camera**: Ensure your DVS camera is properly connected to the computer and the DVSense drivers are loaded correctly.
3.  **Run**: Open your terminal or command prompt, navigate to the directory containing the executable, and run it:
    * **Linux / macOS**:
        ```bash
        cd build  # or build/Debug, etc.
        ./dvsense_driver_test_12.7
        ```
    * **Windows (Command Prompt / PowerShell)**:
        ```bash
        cd build\Debug  # or build\Release, etc.
        .\dvsense_driver_test_12.7.exe
        ```
    The application might print console messages indicating camera status or data acquisition progress.

## Output Files

Based on the application's logic (`main.cpp`), output files are saved in the following directories **within the project's root folder**:

* `.raw` files (raw event stream data): `get_File(.raw)/`
* `.avi` files (video recordings/visualizations): `get_File(.avi)/`

Please check the program's console output or source code (`main.cpp`) for specific filename conventions.

---
```
